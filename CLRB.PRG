FUNCTION CLRB()
MEMVAR GETLIST
CLEAR
M->TIME = TIME()
M->DATE = DATE()
M->CHOICE = ' '
@ 1,10 SAY 'ENTER START DATE:'
DO WHILE .T.
   @ 1,35 GET M->DATE
   READ
   @ 3,10 SAY 'IS THIS DATE CORRECT?(Y/N)'
   M->CHOICE = ' '
   DO WHILE .NOT. M->CHOICE $'YNX'
      M->CHOICE = ' '
      @ 3,40 GET M->CHOICE PICTURE '!'
      READ
   ENDDO
   DO CASE
      CASE M->CHOICE = 'Y'
           EXIT
      CASE M->CHOICE = 'N'
           LOOP
      OTHERWISE
           QUIT
   ENDCASE
ENDDO
CLEAR
@ 1,10 SAY 'PROGRAM START TIME: '
@ 1,35 SAY M->TIME
@ 3,10 SAY 'PROCESSING DATABASE.'
USE BATCHCTL INDEX BATCHCTL
DO WHILE .NOT. EOF()
   IF BATCHCTL->BATCH_DATE < M->DATE .OR. BATCHCTL->BATCH_DATE = M->DATE
      DELETE
   ENDIF
   SKIP
ENDDO
@ 5,10 SAY 'DELETEING BAD RECORDS.'
PACK
@ 7,10 SAY 'DATABASE REORGANIZATION COMPLETE.'
@ 9,10 SAY 'PROGRAM END TIME: '
M->TIME = TIME()
@ 9,35 SAY M->TIME
RETURN (NIL)
